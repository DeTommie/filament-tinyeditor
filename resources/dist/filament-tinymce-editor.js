function V({state:r,statePath:n,selector:a,plugins:c,toolbar:d,language:u="en",language_url:p=null,directionality:m="ltr",max_height:h=0,min_height:f=500,skin:g="oxide",content_css:b="default",toolbar_sticky:w=!1,templates:y="",menubar:k=!1,relative_urls:C=!0,remove_script_host:_=!0,convert_urls:v=!0,disabled:T=!1,locale:x="en",placeholder:z=null}){let o=window.filamentTinyEditors||{};return{id:null,state:r,statePath:n,selector:a,language:u,language_url:p,directionality:m,max_height:h,min_height:f,skin:g,content_css:b,plugins:c,toolbar:d,toolbar_sticky:w,templates:y,menubar:k,relative_urls:C,remove_script_host:_,convert_urls:v,updatedAt:Date.now(),disabled:T,locale:x,init(){this.initEditor(r.initialValue),window.filamentTinyEditors=o,this.$watch("state",(t,l)=>{t==="<p></p>"&&t!==this.editor().getContent()&&(o[this.statePath].destroy(),this.initEditor(t)),this.editor().container&&t!==this.editor().getContent()&&(this.editor().resetContent(t||""),putCursorToEnd())})},editor(){return tinymce.get(o[this.statePath])},initEditor(t){let l=this,E=this.$wire;tinymce.init({selector:a,language:u,language_url:p,directionality:m,statusbar:!1,promotion:!1,max_height:h,min_height:f,skin:g,content_css:b,plugins:c,toolbar:d,toolbar_sticky:w,toolbar_sticky_offset:64,toolbar_mode:"sliding",templates:y,menubar:k,menu:{file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},relative_urls:C,remove_script_host:_,convert_urls:v,setup:function(e){window.tinySettingsCopy||(window.tinySettingsCopy=[]),window.tinySettingsCopy.some(i=>i.id===e.settings.id)||window.tinySettingsCopy.push(e.settings),e.on("blur",function(i){l.updatedAt=Date.now(),l.state=e.getContent()}),e.on("init",function(i){o[l.statePath]=e.id,t!=null&&e.setContent(t)})},images_upload_handler:(e,i)=>new Promise((F,A)=>{if(!e.blob())return;let $=()=>{E.getFormComponentFileAttachmentUrl(n).then(s=>{if(!s){A("error");return}F(s)})},P=()=>{},D=s=>{i(s.detail.progress)};E.upload(`componentFileAttachments.${n}`,e.blob(),$,P,D)}),automatic_uploads:!0})},updateEditorContent(t){this.editor().setContent(t)},putCursorToEnd(){this.editor().selection.select(this.editor().getBody(),!0),this.editor().selection.collapse(!1)}}}export{V as default};
